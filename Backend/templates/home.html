{% extends "base.html" %}
{% block content %}
<h2 class="mb-4">Available Videos</h2>
{% if documents %}
<ul class="list-group">
    {% for doc in documents %}
    <li class="list-group-item d-flex justify-content-between align-items-center">
        <a href="#">{{ doc.name }}</a>

        <div>
            <!-- View — ovo je sada dugme koje sadrži data-url sa javnim URL-om slike -->
            <button type="button"
                    class="btn btn-sm btn-outline-primary me-1 btn-preview"
                    title="Preview"
                    data-url="{{ doc.url }}"
                    data-name="{{ doc.name|e }}">
                <i class="bi bi-eye"></i>
            </button>

            <!-- Save -->
            <a href="{{ doc.url }}" class="btn btn-sm btn-outline-success me-1" title="Save">
                <i class="bi bi-save"></i>
            </a>

            <!-- Delete -->
            <a href="/documents/{{ doc.id }}/delete" class="btn btn-sm btn-outline-danger" title="Delete">
                <i class="bi bi-trash"></i>
            </a>
        </div>
    </li>
    {% endfor %}
</ul>
{% else %}
<p>No videos available. Be the first to <a href="/upload">upload</a> one!</p>
{% endif %}
{% endblock %}

{% block scripts %}
    <script src="https://cdn.jsdelivr.net/npm/file-saver@2.0.5/dist/FileSaver.min.js"></script>
    <script src="/static/js/home.js"></script>
{% endblock %}
